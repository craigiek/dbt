---
layout: default
title: Dbt
---

<p>
    The dbt plugin is designed to simplify the creation, migration and deletion of databases. Each database contains a
    number of <em>modules</em> that are loaded and migrated in a specific order. Each <em>module</em> is stored in a
    directory with the same name as the <em>module</em> key used when defining the database.
</p>

<h2>
<a name="database-creation" class="anchor" href="#database-creation"><span class="octicon octicon-link"></span></a>Database Creation
</h2>

<p>
    When a <em>module</em> is loaded the plugin will attempt to load SQL scripts from a number of sub-directories of
    the <em>module</em> dir. The SQL scripts in each directory are sorted alpha-numerically before being executed. The
    order in which directories are processed is configurable by Dbt::Configure.sql_dirs setting but defaults to:
</p>

<ul>
    <li>.</li>
    <li>types</li>
    <li>views</li>
    <li>functions</li>
    <li>stored-procedures</li>
    <li>triggers</li>
    <li>misc</li>
</ul>

<p>
    After loading the SQL scripts the plugin will attempt to load fixture data from the 'fixtures' sub-directory of
    the <em>module</em> dir. The fixture data must be in a YAML formatted file that matches the table named with .yml
    appended. The order that the fixture data is loaded in is fixed and described in the "Table Ordering" section
    below.
</p>
